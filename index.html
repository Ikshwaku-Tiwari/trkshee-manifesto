<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRKSHEE | The Intellectual Gymnasium</title>
    <meta name="description"
        content="TRKSHEE - The Intellectual Gymnasium. In an age of infinite distraction, focus is the currency.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- GSAP + ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <!-- Lenis Smooth Scroll -->
    <script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            background: #000000;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Utility Classes (replacing Tailwind) */
        .text-center {
            text-align: center;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-3xl {
            font-size: 1.875rem;
        }

        .text-4xl {
            font-size: 2.25rem;
        }

        .text-5xl {
            font-size: 3rem;
        }

        .text-6xl {
            font-size: 3.75rem;
        }

        .font-bold {
            font-weight: 700;
        }

        .uppercase {
            text-transform: uppercase;
        }

        .tracking-tight {
            letter-spacing: -0.025em;
        }

        .mb-16 {
            margin-bottom: 4rem;
        }

        .mb-20 {
            margin-bottom: 5rem;
        }

        .py-20 {
            padding-top: 5rem;
            padding-bottom: 5rem;
        }

        .space-y-8>*+* {
            margin-top: 2rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .max-w-4xl {
            max-width: 56rem;
        }

        .w-full {
            width: 100%;
        }

        .flex-shrink-0 {
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .md\:text-5xl {
                font-size: 3rem;
            }
        }

        @media (min-width: 1024px) {
            .lg\:text-6xl {
                font-size: 3.75rem;
            }
        }

        /* Preloader */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .preloader-counter {
            font-size: clamp(4rem, 15vw, 10rem);
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .preloader-text {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            opacity: 0.4;
            margin-top: 2rem;
        }

        /* WebGL Canvas */
        #webgl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        /* Background Overlay - DISABLED to show Three.js canvas */
        .bg-overlay {
            display: none;
        }

        /* Noise/Grain Overlay */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        /* Technical Grid Overlay */
        .technical-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            opacity: 0.02;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 100px 100px;
        }

        /* Data Tickers */
        .data-ticker {
            position: fixed;
            font-size: 0.625rem;
            font-family: 'Space Grotesk', monospace;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            opacity: 0.25;
            z-index: 100;
            pointer-events: none;
        }

        .ticker-tl {
            top: 2rem;
            left: 2rem;
        }

        .ticker-br {
            bottom: 2rem;
            right: 2rem;
            text-align: right;
        }

        /* Main Content Layer */
        main {
            position: relative;
            z-index: 10;
        }

        /* Sound Toggle */
        .sound-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 100;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            opacity: 0.5;
            cursor: pointer;
            transition: opacity 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .sound-toggle:hover {
            opacity: 1;
        }

        /* Section base styles */
        section {
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 4rem 2rem;
        }

        /* Hero Title */
        .hero-title {
            font-size: clamp(4rem, 20vw, 16rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            line-height: 0.85;
        }

        .hero-subtitle {
            font-size: clamp(0.875rem, 2vw, 1.25rem);
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 0.4em;
            opacity: 0.5;
            margin-top: 2rem;
        }

        /* Philosophy Text */
        .philosophy-line {
            font-size: clamp(1.25rem, 3vw, 2rem);
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            line-height: 2;
            opacity: 0;
        }

        /* Horizontal Scroll Section */
        .horizontal-wrapper {
            overflow: hidden;
        }

        .horizontal-container {
            display: flex;
            flex-wrap: nowrap;
            width: fit-content;
        }

        .algorithm-card {
            width: 320px;
            min-height: 400px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 2.5rem 2rem;
            margin: 0 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .algorithm-card.hero-card {
            background: linear-gradient(135deg, #5ADFDF 0%, #77EFBD 100%);
            color: #000000;
            border: none;
        }

        .card-time {
            font-size: 0.875rem;
            font-weight: 600;
            opacity: 0.6;
            margin-bottom: 1.5rem;
        }

        .hero-card .card-time {
            opacity: 0.8;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 2rem;
        }

        .card-item {
            font-size: 0.875rem;
            opacity: 0.7;
            margin-bottom: 0.75rem;
            text-align: left;
        }

        .hero-card .card-item {
            opacity: 0.9;
        }

        .card-arrow {
            position: absolute;
            right: -2rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            opacity: 0.3;
        }

        /* Philosophy Section */
        .philosophy-card {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4rem;
            max-width: 1000px;
        }

        .philosophy-content {
            text-align: left;
        }

        .philosophy-headline {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.02em;
            margin-bottom: 1.5rem;
        }

        .philosophy-subtext {
            font-size: clamp(1rem, 2vw, 1.25rem);
            font-weight: 300;
            line-height: 1.8;
            opacity: 0.7;
            max-width: 500px;
        }

        /* Geometric Shape */
        .geometric-shape {
            width: 200px;
            height: 200px;
            flex-shrink: 0;
            animation: rotateShape 20s linear infinite;
        }

        @keyframes rotateShape {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* Contact Links */
        .contact-link-wrapper {
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            padding: 2rem 0;
        }

        .contact-link-wrapper:last-child {
            border-bottom: none;
        }

        .contact-link {
            font-size: clamp(3rem, 10vw, 6rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.02em;
            text-decoration: none;
            color: #ffffff;
            display: inline-flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .contact-link:hover {
            color: #5ADFDF;
            transform: translateX(1rem);
        }

        .contact-link .arrow {
            font-size: 0.5em;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .contact-link:hover .arrow {
            opacity: 1;
            transform: translate(5px, -5px);
        }

        /* Footer */
        .footer-wrapper {
            position: relative;
            overflow: hidden;
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(to top, #000000 0%, rgba(0, 0, 0, 0.95) 40%, rgba(0, 0, 0, 0.7) 70%, transparent 100%);
            z-index: 20;
        }

        .footer-text {
            font-size: clamp(0.625rem, 1vw, 0.75rem);
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            color: rgba(255, 255, 255, 0.8);
            position: relative;
            z-index: 22;
        }

        .footer-giant-text {
            position: absolute;
            bottom: -5%;
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(8rem, 30vw, 25rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            white-space: nowrap;
            -webkit-text-stroke: 2px rgba(255, 255, 255, 0.35);
            -webkit-text-fill-color: rgba(255, 255, 255, 0.05);
            z-index: 21;
        }

        /* Hero Sub-definition */
        .hero-sub-definition {
            font-size: 0.75rem;
            font-family: monospace;
            text-transform: uppercase;
            letter-spacing: 0.5em;
            color: #5ADFDF;
            margin-top: 1.5rem;
            opacity: 0.8;
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.4em;
            opacity: 0.6;
        }

        .scroll-chevrons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }

        .scroll-chevron {
            width: 24px;
            height: 24px;
            border-right: 2px solid #5ADFDF;
            border-bottom: 2px solid #5ADFDF;
            transform: rotate(45deg);
            animation: chevronPulse 1.5s ease-in-out infinite;
        }

        .scroll-chevron:nth-child(1) {
            animation-delay: 0s;
        }

        .scroll-chevron:nth-child(2) {
            animation-delay: 0.15s;
        }

        .scroll-chevron:nth-child(3) {
            animation-delay: 0.3s;
        }

        @keyframes chevronPulse {
            0% {
                opacity: 0;
                transform: rotate(45deg) translate(-5px, -5px);
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                transform: rotate(45deg) translate(5px, 5px);
            }
        }

        /* Spacer */
        .spacer-10vw {
            width: 10vw;
            flex-shrink: 0;
        }

        /* Algorithm section override */
        .algorithm-section {
            padding: 0 !important;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 2px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .sound-toggle {
                top: 1rem;
                right: 1rem;
                font-size: 0.625rem;
            }

            section {
                padding: 3rem 1.5rem;
            }

            .algorithm-card {
                width: 280px;
                min-height: 350px;
                padding: 2rem 1.5rem;
            }

            .philosophy-card {
                flex-direction: column;
                gap: 2rem;
            }

            .philosophy-content {
                text-align: center;
            }

            .geometric-shape {
                width: 120px;
                height: 120px;
            }

            .data-ticker {
                display: none;
            }
        }
    </style>
</head>

<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-counter" id="preloader-counter">00%</div>
        <div class="preloader-text">SYSTEM INITIALIZING...</div>
    </div>

    <!-- WebGL Canvas (Three.js) -->
    <canvas id="webgl-canvas"></canvas>

    <!-- Background Overlay -->
    <div class="bg-overlay"></div>

    <!-- Technical Grid Overlay -->
    <div class="technical-grid"></div>

    <!-- Noise/Grain Overlay -->
    <div class="noise-overlay"></div>

    <!-- Data Tickers -->
    <div class="data-ticker ticker-tl">
        <div>SYS.STATUS</div>
        <div id="ticker-1">0x00000000</div>
    </div>
    <div class="data-ticker ticker-br">
        <div>NEURAL.SYNC</div>
        <div id="ticker-2">████████ 100%</div>
    </div>

    <!-- Sound Toggle -->
    <div class="sound-toggle" id="sound-toggle">
        SOUND [OFF]
    </div>

    <!-- Background Audio -->
    <audio id="ambient-audio" loop>
        <source src="ambient-soundscapes-007-space-atmosphere-304974.mp3" type="audio/mpeg">
    </audio>

    <!-- Main Content -->
    <main id="main-content" style="visibility: hidden;">

        <!-- Section 1: Hero -->
        <section id="hero">
            <div id="hero-content">
                <h1 class="hero-title" id="hero-title">TRKSHEE</h1>
                <p class="hero-subtitle" id="hero-subtitle">The Intellectual Gymnasium</p>
                <p class="hero-sub-definition">A Mentorship Service</p>
            </div>
            <!-- Scroll Indicator -->
            <div class="scroll-indicator">
                <span>SCROLL</span>
                <div class="scroll-chevrons">
                    <div class="scroll-chevron"></div>
                    <div class="scroll-chevron"></div>
                    <div class="scroll-chevron"></div>
                </div>
            </div>
        </section>

        <!-- Section 2: The Manifesto -->
        <section id="manifesto">
            <div class="max-w-4xl mx-auto space-y-8">
                <p class="philosophy-line">In an age of infinite distraction,</p>
                <p class="philosophy-line">Focus is the currency.</p>
                <p class="philosophy-line" style="margin-top: 4rem;">We engineer cognitive revolution.</p>
                <p class="philosophy-line" style="margin-top: 4rem;">Credential ≠ Competence.</p>
            </div>
        </section>

        <!-- Section 3: The Algorithm (Horizontal Scroll) -->
        <section id="algorithm-section" class="algorithm-section">
            <div class="w-full py-20">
                <h2 class="text-center text-4xl font-bold uppercase tracking-tight mb-20">THE MASTERY ALGORITHM</h2>

                <div class="horizontal-wrapper" id="horizontal-wrapper">
                    <div class="horizontal-container" id="horizontal-container">
                        <div class="spacer-10vw"></div>

                        <div class="algorithm-card">
                            <div class="card-time">[10-15] mins</div>
                            <h3 class="card-title">THE CONNECTION</h3>
                            <p class="card-item">&gt; Diagnostic mapping</p>
                            <p class="card-item">&gt; Identify gaps</p>
                            <span class="card-arrow">→</span>
                        </div>

                        <div class="algorithm-card">
                            <div class="card-time">[30-40] mins</div>
                            <h3 class="card-title">FIRST PRINCIPLES</h3>
                            <p class="card-item">&gt; Deep technical dive</p>
                            <p class="card-item">&gt; Analogies & Core Logic</p>
                            <span class="card-arrow">→</span>
                        </div>

                        <div class="algorithm-card">
                            <div class="card-time">[15-20] mins</div>
                            <h3 class="card-title">SPARRING</h3>
                            <p class="card-item">&gt; Challenges</p>
                            <p class="card-item">&gt; Stress-test ideas</p>
                            <span class="card-arrow">→</span>
                        </div>

                        <div class="algorithm-card hero-card">
                            <div class="card-time">[10-15] mins</div>
                            <h3 class="card-title">TEACH-BACK</h3>
                            <p class="card-item">&gt; Student becomes Teacher</p>
                            <p class="card-item">&gt; Verified Mastery</p>
                            <span class="card-arrow" style="color: #000;">→</span>
                        </div>

                        <div class="algorithm-card">
                            <div class="card-time">[10-20] mins</div>
                            <h3 class="card-title">DOUBTS & INDUSTRY</h3>
                            <p class="card-item">&gt; Market Relevance</p>
                            <p class="card-item">&gt; Closing Loop</p>
                        </div>

                        <div class="spacer-10vw"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: The Philosophy -->
        <section id="philosophy-section">
            <div class="philosophy-card" id="philosophy-card">
                <div class="geometric-shape">
                    <svg viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="100,10 170,40 190,100 170,160 100,190 30,160 10,100 30,40"
                            stroke="rgba(255,255,255,0.3)" stroke-width="1" fill="none" />
                        <polygon points="100,40 140,55 155,100 140,145 100,160 60,145 45,100 60,55"
                            stroke="rgba(255,255,255,0.2)" stroke-width="1" fill="none" />
                        <polygon points="100,70 130,100 100,130 70,100" stroke="rgba(90,223,223,0.4)" stroke-width="1"
                            fill="none" />
                        <line x1="100" y1="10" x2="100" y2="190" stroke="rgba(255,255,255,0.1)" stroke-width="0.5" />
                        <line x1="10" y1="100" x2="190" y2="100" stroke="rgba(255,255,255,0.1)" stroke-width="0.5" />
                        <line x1="30" y1="40" x2="170" y2="160" stroke="rgba(255,255,255,0.08)" stroke-width="0.5" />
                        <line x1="170" y1="40" x2="30" y2="160" stroke="rgba(255,255,255,0.08)" stroke-width="0.5" />
                    </svg>
                </div>

                <div class="philosophy-content">
                    <h2 class="philosophy-headline">WE REJECT THE PARROT.</h2>
                    <p class="philosophy-subtext">
                        The operator follows instructions. The architect questions premises.
                        Trkshee is the forge where memory is transmuted into mastery.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 5: Join The Network -->
        <section id="contact">
            <div class="w-full max-w-4xl mx-auto">
                <h2 class="text-sm uppercase mb-16 text-center" style="letter-spacing: 0.3em; opacity: 0.4;">Join The
                    Network</h2>

                <div class="contact-link-wrapper">
                    <a href="https://instagram.com/trkshee_official" target="_blank" rel="noopener noreferrer"
                        class="contact-link">
                        INSTAGRAM <span class="arrow">↗</span>
                    </a>
                </div>
                <div class="contact-link-wrapper">
                    <a href="mailto:trkshee.main@gmail.com" class="contact-link">
                        EMAIL <span class="arrow">↗</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer-wrapper">
            <p class="footer-text">EST. 2025 // BUILDING ARCHITECTS OF THE FUTURE</p>
            <div class="footer-giant-text">TRKSHEE</div>
        </footer>

    </main>

    <script>
        // Check if required libraries loaded
        if (typeof THREE === 'undefined') {
            console.error('Three.js failed to load');
        }
        if (typeof gsap === 'undefined') {
            console.error('GSAP failed to load');
        }
        if (typeof Lenis === 'undefined') {
            console.error('Lenis failed to load');
        }

        // Register GSAP plugins
        gsap.registerPlugin(ScrollTrigger);

        // Initialize Lenis smooth scroll
        const lenis = new Lenis({
            lerp: 0.05,
            duration: 2.0,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            orientation: 'vertical',
            gestureOrientation: 'vertical',
            smoothWheel: true,
            wheelMultiplier: 0.6,
            touchMultiplier: 1.2,
        });

        lenis.on('scroll', ScrollTrigger.update);
        gsap.ticker.add((time) => { lenis.raf(time * 1000); });
        gsap.ticker.lagSmoothing(0);
        lenis.stop();

        // ============================================
        // THREE.JS SPACE SCENE
        // ============================================
        let scene, camera, renderer;
        let starfield, holoEarth;
        let scrollProgress = 0;

        function initThreeJS() {
            const canvas = document.getElementById('webgl-canvas');

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000);

            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 3000);
            camera.position.z = 800;

            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            createStarfield();
            createHoloEarth();
            animateThreeJS();

            window.addEventListener('resize', onWindowResize);
            console.log('Three.js initialized successfully');
        }

        function createStarfield() {
            const starCount = 3000;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(starCount * 3);
            const colors = new Float32Array(starCount * 3);

            const cyanColor = new THREE.Color(0x5ADFDF);
            const whiteColor = new THREE.Color(0xffffff);

            for (let i = 0; i < starCount; i++) {
                const radius = 800;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);

                positions[i * 3] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i * 3 + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i * 3 + 2] = radius * Math.cos(phi) - 200;

                const isCyan = Math.random() < 0.15;
                const color = isCyan ? cyanColor : whiteColor;
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const material = new THREE.PointsMaterial({
                size: 4,
                vertexColors: true,
                transparent: true,
                opacity: 1.0,
                sizeAttenuation: true
            });

            starfield = new THREE.Points(geometry, material);
            scene.add(starfield);
        }

        function createHoloEarth() {
            const earthRadius = 80;
            const pointCount = 2000;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(pointCount * 3);
            const colors = new Float32Array(pointCount * 3);

            const cyanColor = new THREE.Color(0x5ADFDF);
            const mintColor = new THREE.Color(0x77EFBD);

            for (let i = 0; i < pointCount; i++) {
                const y = 1 - (i / (pointCount - 1)) * 2;
                const radiusAtY = Math.sqrt(1 - y * y);
                const theta = ((i % pointCount) + 0.5) / pointCount * Math.PI * 100;

                positions[i * 3] = Math.cos(theta) * radiusAtY * earthRadius;
                positions[i * 3 + 1] = y * earthRadius;
                positions[i * 3 + 2] = Math.sin(theta) * radiusAtY * earthRadius;

                const t = Math.random();
                const color = new THREE.Color().lerpColors(cyanColor, mintColor, t);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const material = new THREE.PointsMaterial({
                size: 2,
                vertexColors: true,
                transparent: true,
                opacity: 0,
                sizeAttenuation: true
            });

            holoEarth = new THREE.Points(geometry, material);
            holoEarth.position.z = -400;
            holoEarth.position.y = -50;
            scene.add(holoEarth);

            const ringGeometry = new THREE.RingGeometry(earthRadius + 15, earthRadius + 17, 64);
            const ringMaterial = new THREE.MeshBasicMaterial({
                color: 0x5ADFDF,
                transparent: true,
                opacity: 0,
                side: THREE.DoubleSide
            });

            const ring1 = new THREE.Mesh(ringGeometry, ringMaterial.clone());
            ring1.rotation.x = Math.PI / 2;
            ring1.position.copy(holoEarth.position);
            ring1.userData.isRing = true;
            scene.add(ring1);

            const ring2 = new THREE.Mesh(ringGeometry.clone(), ringMaterial.clone());
            ring2.rotation.x = Math.PI / 3;
            ring2.rotation.y = Math.PI / 4;
            ring2.position.copy(holoEarth.position);
            ring2.userData.isRing = true;
            scene.add(ring2);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animateThreeJS() {
            requestAnimationFrame(animateThreeJS);

            if (starfield) {
                starfield.rotation.y += 0.0002;
                starfield.rotation.x += 0.0001;
            }

            if (holoEarth) {
                holoEarth.rotation.y += 0.003;
            }

            scene.traverse((child) => {
                if (child.userData && child.userData.isRing) {
                    child.rotation.z += 0.002;
                }
            });

            renderer.render(scene, camera);
        }

        // Initialize Three.js
        initThreeJS();

        // Scroll-linked camera animation
        ScrollTrigger.create({
            trigger: 'body',
            start: 'top top',
            end: 'bottom bottom',
            scrub: 1.5,
            onUpdate: (self) => {
                scrollProgress = self.progress;

                const startZ = 800;
                const endZ = 100;
                camera.position.z = startZ - (scrollProgress * (startZ - endZ));

                if (holoEarth) {
                    const earthOpacity = Math.max(0, Math.min(1, (scrollProgress - 0.3) / 0.3));
                    holoEarth.material.opacity = earthOpacity * 0.9;
                    holoEarth.position.z = -400 + (scrollProgress * 350);
                }

                scene.traverse((child) => {
                    if (child.userData && child.userData.isRing && child.material) {
                        const ringOpacity = Math.max(0, Math.min(1, (scrollProgress - 0.4) / 0.3));
                        child.material.opacity = ringOpacity * 0.4;
                        child.position.z = -400 + (scrollProgress * 350);
                    }
                });

                if (starfield) {
                    const scale = 1 + scrollProgress * 0.3;
                    starfield.scale.set(scale, scale, scale);
                }
            }
        });

        // Data Tickers
        function updateTickers() {
            const ticker1 = document.getElementById('ticker-1');
            const ticker2 = document.getElementById('ticker-2');

            const hex = '0x' + Math.floor(Math.random() * 0xFFFFFFFF).toString(16).toUpperCase().padStart(8, '0');
            ticker1.textContent = hex;

            const progress = Math.floor(Math.random() * 20 + 80);
            const bars = '█'.repeat(Math.floor(progress / 12.5)) + '░'.repeat(8 - Math.floor(progress / 12.5));
            ticker2.textContent = bars + ' ' + progress + '%';
        }

        setInterval(updateTickers, 2000);
        updateTickers();

        // Preloader
        const preloader = document.getElementById('preloader');
        const preloaderCounter = document.getElementById('preloader-counter');
        const mainContent = document.getElementById('main-content');

        let counter = { value: 0 };

        const preloaderTL = gsap.timeline({
            onComplete: () => { lenis.start(); }
        });

        preloaderTL.to(counter, {
            value: 100,
            duration: 3,
            ease: 'power2.inOut',
            onUpdate: () => {
                const val = Math.round(counter.value);
                preloaderCounter.textContent = (val < 10 ? '0' : '') + val + '%';
            }
        });

        preloaderTL.to(preloader, {
            yPercent: -100,
            duration: 1.2,
            ease: 'power4.inOut'
        }, '+=0.5');

        preloaderTL.set(mainContent, { visibility: 'visible' }, '-=1.2');

        preloaderTL.from('#hero-title', {
            y: 100,
            opacity: 0,
            duration: 1.5,
            ease: 'power3.out'
        }, '-=0.6');

        preloaderTL.from('#hero-subtitle', {
            y: 50,
            opacity: 0,
            duration: 1,
            ease: 'power3.out'
        }, '-=1');

        // Sound Toggle
        const soundToggle = document.getElementById('sound-toggle');
        const ambientAudio = document.getElementById('ambient-audio');
        let isSoundOn = false;

        ambientAudio.volume = 0.4;

        soundToggle.addEventListener('click', () => {
            isSoundOn = !isSoundOn;
            if (isSoundOn) {
                ambientAudio.play();
                soundToggle.textContent = 'SOUND [ON]';
            } else {
                ambientAudio.pause();
                soundToggle.textContent = 'SOUND [OFF]';
            }
        });

        // Hero Parallax
        gsap.to('#hero-content', {
            yPercent: 50,
            opacity: 0.3,
            ease: 'none',
            scrollTrigger: {
                trigger: '#hero',
                start: 'top top',
                end: 'bottom top',
                scrub: 1
            }
        });

        // Manifesto Scroll Reveal
        const philosophyLines = document.querySelectorAll('.philosophy-line');
        philosophyLines.forEach((line) => {
            gsap.to(line, {
                opacity: 1,
                y: 0,
                duration: 1.2,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: line,
                    start: 'top 75%',
                    end: 'top 50%',
                    toggleActions: 'play none none reverse'
                }
            });
            gsap.set(line, { y: 40 });
        });

        // Horizontal Scroll
        const horizontalContainer = document.getElementById('horizontal-container');
        const getScrollDistance = () => horizontalContainer.scrollWidth - window.innerWidth;

        gsap.to(horizontalContainer, {
            x: () => -getScrollDistance(),
            ease: 'none',
            scrollTrigger: {
                trigger: '#algorithm-section',
                start: 'top top',
                end: () => `+=${getScrollDistance()}`,
                pin: true,
                scrub: 1.5,
                invalidateOnRefresh: true,
                anticipatePin: 1
            }
        });

        const cards = document.querySelectorAll('.algorithm-card');
        cards.forEach((card, index) => {
            gsap.from(card, {
                opacity: 0,
                y: 30,
                duration: 0.8,
                scrollTrigger: {
                    trigger: '#algorithm-section',
                    start: `top+=${index * 100} 80%`,
                    toggleActions: 'play none none reverse'
                }
            });
        });

        // Philosophy Section
        gsap.from('#philosophy-card', {
            opacity: 0,
            y: 60,
            duration: 1.2,
            ease: 'power3.out',
            scrollTrigger: {
                trigger: '#philosophy-section',
                start: 'top 60%',
                toggleActions: 'play none none reverse'
            }
        });

        // Contact Links
        gsap.from('#contact .contact-link', {
            y: 30,
            stagger: 0.15,
            duration: 0.8,
            ease: 'power3.out',
            scrollTrigger: {
                trigger: '#contact',
                start: 'top 80%',
                toggleActions: 'play none none none'
            }
        });

        // Footer Animation
        gsap.from('.footer-giant-text', {
            yPercent: 30,
            opacity: 0,
            scrollTrigger: {
                trigger: '.footer-wrapper',
                start: 'top 80%',
                end: 'bottom bottom',
                scrub: 1
            }
        });

        window.addEventListener('resize', () => { ScrollTrigger.refresh(); });
    </script>
</body>

</html>